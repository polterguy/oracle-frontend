
<mat-spinner *ngIf="searching" diameter="50"></mat-spinner>

<div class="viewport">

  <form
    class="prompt-form"
    (ngSubmit)="submit()">

    <mat-form-field
      class="prompt"
      appearance="outline">

      <mat-label>Ask me anything ...</mat-label>

      <input
        matInput
        [(ngModel)]="prompt"
        [disabled]="searching"
        (focus)="focused()"
        (blur)="blurred()"
        name="prompt"
        placeholder="Who won US Open in 2023?">

      <button
        mat-icon-button
        matSuffix
        [disabled]="searching || !valid()"
        color="primary">
        <mat-icon>search</mat-icon>
      </button>

      <mat-hint class="mat-error" *ngIf="hasFocus && !valid()">5 to 250 characters ending with a question mark (?)</mat-hint>

    </mat-form-field>

  </form>

  <mat-card
    class="recent-results"
    *ngIf="!searching && answers.length > 0">

    <div class="count">
      Answers {{count}}
    </div>

    <ul>
      <li *ngFor="let idx of answers">
        <a [href]="getUrl(idx.url)" mat-button>{{idx.title}}</a>
      </li>
    </ul>

    <div class="pager">
      <button
        [disabled]="hasMore === false"
        mat-button
        (click)="more()">
        More
      </button>
    </div>

  </mat-card>

  <mat-card
    class="feedback"
    *ngIf="searching">

    <div class="output">
      <p *ngFor="let msg of messages">{{msg.message}}</p>
    </div>

  </mat-card>

</div>
